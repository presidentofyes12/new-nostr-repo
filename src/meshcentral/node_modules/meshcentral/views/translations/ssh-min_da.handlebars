<!doctypehtml><html dir=ltr xmlns=http://www.w3.org/1999/xhtml><head lang=en><meta http-equiv=X-UA-Compatible content="IE=edge"><meta content="text/html;charset=utf-8"http-equiv=Content-Type><meta name=viewport content="user-scalable=1,initial-scale=1,minimum-scale=1,maximum-scale=1"><meta name=apple-mobile-web-app-capable content=yes><meta name=format-detection content="telephone=no"><meta name=robots content=noindex,nofollow><link type=text/css href=styles/style.css media=screen rel=stylesheet title=CSS><link type=text/css href=styles/xterm.css media=screen rel=stylesheet title=CSS><link rel=apple-touch-icon href=/favicon-303x303.png><script src=scripts/common-0.0.1{{min}}.js></script><script src=scripts/meshcentral{{min}}.js></script><script src=scripts/agent-redir-ws-0.1.1{{min}}.js></script><script src=scripts/agent-redir-rtc-0.1.0{{min}}.js></script><script src=scripts/xterm-min.js></script><script src=scripts/xterm-addon-fit-min.js></script><title>SSH</title><body style=overflow:hidden;background-color:#000 onload=start()><div id=p11 class=noselect style=overflow:hidden><div id=deskarea0 style=position:relative><div id=deskarea1 class=areaHead><div class=toright2></div><div><input id=ConnectButton style=display:none type=button value=Forbind onclick=connectButton()> <input id=DisconnectButton type=button value=Afbryd onclick=connectButton()> <span><b id=computerName></b></span> - <span id=termstatus></span></div></div><div id=deskarea2><div class=areaProgress><div id=progressbar></div></div></div><div id=deskarea3x style="max-height:calc(100vh - 54px);height:calc(100vh - 54px)"><div id=bigok style="display:none;left:calc((100vh / 2))"><b>✓</b></div><div id=bigfail style="display:none;left:calc((100vh / 2))"><b>✗</b></div><div id=metadatadiv style=padding:20px;color:#d3d3d3;text-align:left;display:none></div><div id=terminal style="max-height:calc(100vh - 54px);height:calc(100vh - 54px);text-align:left"></div><div id=TermConsoleMsg style=display:none;cursor:pointer;z-index:10;position:absolute;left:30px;top:17px;color:#ff0;background-color:rgba(0,0,0,.6);padding:10px;border-radius:5px onclick=clearConsoleMsg()></div></div><div id=deskarea4 class=areaHead><div class=toright2></div><div style=height:21px;max-height:21px></div></div></div><div id=dialog class=noselect style=display:none><div id=dialogHeader><div tabindex=0 id=id_dialogclose onclick=setDialogMode() onkeypress='"Enter"==event.key&&setDialogMode()'>✖</div><div id=id_dialogtitle></div></div><div id=dialogBody><div id=dialog1><div id=id_dialogMessage></div></div><div id=dialog2><div id=id_dialogOptions></div></div></div><div id=idx_dlgButtonBar><input id=idx_dlgCancelButton type=button value=Annuller onclick=dialogclose(0)> <input id=idx_dlgOkButton type=button value=OK onclick=dialogclose(1)><div><input id=idx_dlgDeleteButton type=button value=Slet style=display:none onclick=dialogclose(2)></div></div></div></div><script>var xxdialogMode,xxdialogFunc,xxdialogButtons,xxdialogTag,random="{{{randomlength}}}",term=null,termfit=null,resizeTimer=null,urlargs=parseUriArgs(),cookie=(urlargs.key&&0==isAlphaNumeric(urlargs.key)&&delete urlargs.key,"{{{cookie}}}"),domainurl="{{{domainurl}}}",features=parseInt("{{{features}}}"),name=decodeURIComponent("{{{name}}}"),StatusStrs=(""!=name&&(document.title=name+" - "+document.title),["Afbrudt","Forbinder...","Opsætning...","Forbundet"]),state=0,socket=null,user="",pass="";function start(){QH("computerName",name),window.onresize=function(){null!=termfit&&termfit.fit()},updateState(),resetTerminal(),connectButton()}function resetTerminal(){null!=term&&term.dispose(),1!=urlargs.fixsize&&(termfit=new FitAddon.FitAddon),term=new Terminal,termfit&&term.loadAddon(termfit),term.open(Q("terminal")),term.onData(function(e){3==state&&socket.send("~"+e)}),termfit&&termfit.fit(),term.onResize(function(e){resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(sendResize,200)})}function sendResize(){(resizeTimer=null)!=socket&&socket.send(JSON.stringify({action:"resize",cols:term.cols,rows:term.rows,width:Q("terminal").offsetWidth,height:Q("terminal").offsetHeight}))}function connectButton(){0==state?connectEx2({action:"connect",cols:term.cols,rows:term.rows,width:Q("terminal").offsetWidth,height:Q("terminal").offsetHeight,useexisting:!0}):disconnect()}function sshAuthUpdate(e){var t;QV("d2userauth",3!=Q("dp2authmethod").value),QV("d2passauth",1==Q("dp2authmethod").value),QV("d2keyauth",2==Q("dp2authmethod").value),QV("d2keyauth2",3==Q("dp2authmethod").value),1==Q("dp2authmethod").value?QE("idx_dlgOkButton",0<Q("dp2user").value.length&&0<Q("dp2pass").value.length):3==Q("dp2authmethod").value?QE("idx_dlgOkButton",0<Q("dp2keypass2").value.length):(QE("idx_dlgOkButton",!1),0==(1&features)&&QE("dp2keep2",Q("dp2keep1").checked),1==(0<Q("dp2user").value.length&&null!=Q("dp2key").files&&1==Q("dp2key").files.length&&Q("dp2key").files[0].size<8e3)&&((t=new FileReader).onload=function(e){e=0<=e.target.result.indexOf("-----BEGIN OPENSSH PRIVATE KEY-----")&&0<=e.target.result.indexOf("-----END OPENSSH PRIVATE KEY-----")||0<=e.target.result.indexOf("-----BEGIN RSA PRIVATE KEY-----")&&0<=e.target.result.indexOf("-----END RSA PRIVATE KEY-----");QE("idx_dlgOkButton",e),QS("d2badkey").color=e?"#000":"#F00"},t.readAsText(Q("dp2key").files[0]))),e&&13==e.keyCode&&e.target&&1==Q("dp2authmethod").value&&("dp2user"==e.target.id&&Q("dp2pass").focus(),"dp2pass"==e.target.id)&&dialogclose(1)}function connectEx(){var e,t={action:"connect",cols:term.cols,rows:term.rows,width:Q("terminal").offsetWidth,height:Q("terminal").offsetHeight,username:Q("dp2user").value,keep:0};1==Q("dp2authmethod").value?(t.password=Q("dp2pass").value,0==(1&features)&&(t.keep=Q("dp2keep").checked?1:0),connectEx2(t)):3==Q("dp2authmethod").value?(t.action="connectKeyPass",t.keypass=Q("dp2keypass2").value,connectEx2(t)):(0==(1&features)&&(t.keep=Q("dp2keep1").checked?1:0,1==t.keep)&&(t.keep+=Q("dp2keep2").checked?1:0),t.keypass=Q("dp2keypass").value,(e=new FileReader).onload=function(e){t.key=e.target.result,connectEx2(t)},e.readAsText(Q("dp2key").files[0]))}function sshTunnelAuthDialog(e,t){var n="";e.askkeypass?n+=addHtmlValue("Godkendelse","<select id=dp2authmethod style=width:230px onchange=sshAuthUpdate(event)><option value=3 selected>Gemt nøgle</option><option value=1>Brugernavn & Adgangskode</option><option value=2>Brugernavn og nøgle</option></select>"):n+=addHtmlValue("Godkendelse","<select id=dp2authmethod style=width:230px onchange=sshAuthUpdate(event)><option value=1 selected>Brugernavn & Adgangskode</option><option value=2>Brugernavn og nøgle</option></select>"),n=(n=(n+="<div id=d2userauth style=display:none>")+addHtmlValue("Brugernavn","<input id=dp2user style=width:230px maxlength=64 autocomplete=off onkeyup=sshAuthUpdate(event) />")+"</div><div id=d2passauth style=display:none>")+addHtmlValue("Kodeord","<input type=password id=dp2pass style=width:230px maxlength=64 autocomplete=off onkeyup=sshAuthUpdate(event) />"),0==(1&features)&&(n+=addHtmlValue("","<label><input id=dp2keep type=checkbox>Husk legitimationsoplysninger</label>")),n=(n=(n+="</div><div id=d2keyauth style=display:none>")+addHtmlValue("Nøglefil","<input type=file id=dp2key style=width:230px maxlength=64 autocomplete=off onchange=sshAuthUpdate(event) /><div id=d2badkey style=font-size:x-small>Nøglefilen skal være i OpenSSH format.</div>"))+addHtmlValue("Nøgle kodeord","<input type=password id=dp2keypass style=width:230px maxlength=64 autocomplete=off onkeyup=sshAuthUpdate(event) />"),0==(1&features)&&(n=(n+=addHtmlValue("","<label><input id=dp2keep1 type=checkbox onchange=sshAuthUpdate(event)>Husk bruger og nøgle</label>"))+addHtmlValue("","<label><input id=dp2keep2 type=checkbox>Husk kodeord</label>")),n+="</div>",setDialogMode(2,"Godkendelse",11,t,n=e.askkeypass?(n+="<div id=d2keyauth2 style=display:none>")+addHtmlValue("Kodeord","<input type=password id=dp2keypass2 style=width:230px maxlength=64 autocomplete=off onkeyup=sshAuthUpdate(event) />")+"</div>":n,"ssh"),Q("dp2user").focus(),sshAuthUpdate(),setTimeout(sshAuthUpdate,50)}function connectEx2(t){state=1;var e=window.location.protocol.replace("http","ws")+"//"+window.location.host+domainurl+"sshrelay.ashx?auth="+cookie+(urlargs.key?"&key="+urlargs.key:"");(socket=new WebSocket(e)).onopen=function(e){state=2,updateState(),term.reset(),socket.send(JSON.stringify(t)),pass=""},socket.onmessage=function(e){if("string"==typeof e.data)if("{"==e.data[0]){var t=null;try{t=JSON.parse(e.data)}catch(e){}if(null!=t&&"object"==typeof t)if(102938==t.ctrlChannel&&"ping"==t.type)socket.send('{"ctrlChannel":"102938","type":"pong"}');else switch(t.action){case"connected":state=3,updateState(),term.focus();break;case"sshauth":sshTunnelAuthDialog(t,connectEx);break;case"autherror":setDialogMode(2,"Godkendelse",1,null,"Kan ikke godkendes.");break;case"sessionerror":setDialogMode(2,"Session",1,null,"Sessionen er udløbet.");break;case"sessiontimeout":setDialogMode(2,"Session",1,null,"Session timeout.")}}else"~"==e.data[0]&&(term.writeUtf8?term.writeUtf8(e.data.substring(1)):term.write(e.data.substring(1)))},socket.onclose=function(e){disconnect()},socket.onerror=function(e){disconnect()},updateState()}function disconnect(){null!=socket&&(socket.close(),socket=null),state=0,updateState(),resetTerminal()}function updateState(){QV("ConnectButton",0==state),QV("DisconnectButton",0!=state),QH("termstatus",StatusStrs[state])}var xxcurrentView=-1;function setDialogMode(e,t,n,a,o,s){xxdialogMode=e,xxdialogFunc=a,xxdialogButtons=n,xxdialogTag=s,QE("idx_dlgOkButton",!0),QV("idx_dlgOkButton",1&n),QV("idx_dlgCancelButton",2&n),QV("id_dialogclose",2&n||8&n),QV("idx_dlgDeleteButton",4&n),QV("idx_dlgButtonBar",7&n),t&&QH("id_dialogtitle",t);for(var d=1;d<3;d++)QV("dialog"+d,d==e);QV("dialog",e),o&&(2==e?QH("id_dialogOptions",o):QH("id_dialogMessage",o))}function dialogclose(e){var t=xxdialogFunc,n=xxdialogButtons,a=xxdialogTag;setDialogMode(),(8&n||e)&&t&&t(e,a)}function messagebox(e,t){setSessionActivity(),QH("id_dialogMessage",t),setDialogMode(1,e,1)}function statusbox(e,t){setSessionActivity(),QH("id_dialogMessage",t),setDialogMode(1,e)}function haltEvent(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}function pad2(e){e="00"+e;return e.substr(e.length-2)}function format(e){var n=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}function isAlphaNumeric(e){return null!=e.match(/^[A-Za-z0-9]+$/)}function isSafeString(e){return"string"==typeof e&&-1==e.indexOf("<")&&-1==e.indexOf(">")&&-1==e.indexOf("&")&&-1==e.indexOf('"')&&-1==e.indexOf("'")&&-1==e.indexOf("+")&&-1==e.indexOf("(")&&-1==e.indexOf(")")&&-1==e.indexOf("#")&&-1==e.indexOf("%")&&-1==e.indexOf(":")}function addHtmlValue(e,t){return"<table><td style=width:120px>"+e+"<td><b>"+t+"</b></table>"}function parseUriArgs(){var e,t,n=window.document.location.href,a={},o=(n=n.endsWith("#")?n.substring(0,n.length-1):n).split(/[\?&|\=]/);for(t in o.splice(0,1),o)switch(t%2){case 0:e=decodeURIComponent(o[t]);break;case 1:a[e]=decodeURIComponent(o[t]),isSafeString(a[e])?(t=parseInt(a[e]))==a[e]&&(a[e]=t):delete a[e]}return a}start()</script>